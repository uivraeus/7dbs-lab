RS_INIT_CONFIG=try { rs.status() } catch (err) { rs.initiate({ _id: 'configSet', configsvr: true, members: [ { _id: 0, host: 'mongodb-config:27017' } ] }) }
RS_INIT_SHARD1=try { rs.status() } catch (err) { rs.initiate({ _id: 'shard1', members: [ { _id: 0, host: 'mongodb-shard1-1:27017', priority: 1 }, { _id: 1, host: 'mongodb-shard1-2:27017', priority: .5 }, { _id: 2, host: 'mongodb-shard1-3:27017', priority: .5 } ] }) }
RS_INIT_SHARD2=try { rs.status() } catch (err) { rs.initiate({ _id: 'shard2', members: [ { _id: 0, host: 'mongodb-shard2-1:27017', priority: 1 }, { _id: 1, host: 'mongodb-shard2-2:27017', priority: .5 }, { _id: 2, host: 'mongodb-shard2-3:27017', priority: .5 } ] }) }
